<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>TikTok - –°–º–æ—Ç—Ä–∏—Ç–µ –∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== –ü–û–õ–ù–´–ô –°–¢–ò–õ–¨ TIKTOK ===== */
        * {
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
            -webkit-text-size-adjust: 100%;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            box-sizing: border-box;
        }

        :root {
            --tiktok-red: #FF0050;
            --tiktok-blue: #00F2EA;
            --tiktok-black: #000000;
            --tiktok-white: #FFFFFF;
            --tiktok-gray: #EFEFEF;
            --tiktok-dark: #121212;
            --tiktok-text: rgba(255, 255, 255, 0.95);
            --tiktok-text-secondary: rgba(255, 255, 255, 0.6);
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #000;
            color: #fff;
            position: fixed;
            touch-action: pan-y;
            user-select: none;
            -webkit-user-select: none;
        }

        #app {
            width: 100vw;
            height: 100vh;
            position: relative;
            background: #000;
            overflow: hidden;
        }

        /* ===== –ó–ê–ì–†–£–ó–ß–ò–ö ===== */
        #loader {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
        }

        .loader-logo {
            font-size: 48px;
            font-weight: 800;
            background: linear-gradient(45deg, var(--tiktok-red), var(--tiktok-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* ===== –®–ê–ü–ö–ê TIKTOK ===== */
        .tiktok-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 44px;
            padding: 0 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: transparent;
            z-index: 1000;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }

        .tiktok-logo {
            font-size: 24px;
            font-weight: 800;
            letter-spacing: -0.5px;
            background: linear-gradient(45deg, var(--tiktok-red), var(--tiktok-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header-icons {
            display: flex;
            gap: 20px;
            color: white;
            font-size: 20px;
        }

        /* ===== –õ–ï–ù–¢–ê –í–ò–î–ï–û ===== */
        .video-feed {
            width: 100vw;
            height: 100vh;
            overflow-y: auto;
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }

        .video-container {
            width: 100vw;
            height: 100vh;
            scroll-snap-align: start;
            position: relative;
            background: #000;
        }

        .video-player {
            width: 100%;
            height: 100%;
            object-fit: cover;
            background: #000;
        }

        /* ===== –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –í–ò–î–ï–û ===== */
        .video-info {
            position: absolute;
            bottom: 100px;
            left: 0;
            right: 0;
            padding: 0 16px;
            z-index: 2;
        }

        .username {
            font-size: 17px;
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .follow-btn {
            background: var(--tiktok-red);
            color: white;
            border: none;
            padding: 4px 16px;
            border-radius: 4px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
        }

        .caption {
            font-size: 15px;
            line-height: 1.4;
            margin-bottom: 8px;
            max-width: 85%;
        }

        .sound {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            color: rgba(255,255,255,0.9);
            margin-bottom: 16px;
        }

        .hashtags {
            font-size: 14px;
            color: var(--tiktok-blue);
        }

        /* ===== –ü–†–ê–í–ê–Ø –ü–ê–ù–ï–õ–¨ ===== */
        .right-panel {
            position: absolute;
            bottom: 120px;
            right: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            z-index: 3;
        }

        .action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }

        .action-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            cursor: pointer;
            font-size: 24px;
        }

        .action-count {
            font-size: 12px;
            font-weight: 600;
            color: white;
        }

        /* ===== –ù–ò–ñ–ù–ï–ï –ú–ï–ù–Æ ===== */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 48px;
            background: rgba(0,0,0,0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255,255,255,0.1);
            display: flex;
            justify-content: space-around;
            align-items: center;
            z-index: 1000;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 22px;
            width: 64px;
            height: 100%;
            cursor: pointer;
        }

        .nav-item.active {
            color: var(--tiktok-white);
        }

        .nav-text {
            font-size: 10px;
            font-weight: 500;
            margin-top: 2px;
        }

        .create-btn {
            position: fixed;
            bottom: 50px;
            right: 16px;
            width: 56px;
            height: 56px;
            background: linear-gradient(45deg, var(--tiktok-red), var(--tiktok-blue));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            cursor: pointer;
            z-index: 1001;
            box-shadow: 0 4px 25px rgba(255, 0, 80, 0.4);
        }

        /* ===== –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò ===== */
        #commentsModal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.95);
            z-index: 2000;
            display: none;
            flex-direction: column;
        }

        .comments-header {
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            background: rgba(0,0,0,0.8);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .comments-title {
            font-size: 16px;
            font-weight: 600;
        }

        .comments-list {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }

        .comment-item {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
        }

        .comment-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--tiktok-red), var(--tiktok-blue));
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .comment-content {
            flex: 1;
        }

        .comment-username {
            font-weight: 600;
            font-size: 14px;
        }

        .comment-text {
            font-size: 14px;
            line-height: 1.4;
            margin: 4px 0;
        }

        .comment-input-container {
            padding: 16px;
            border-top: 1px solid rgba(255,255,255,0.1);
            background: rgba(0,0,0,0.8);
        }

        .comment-input-wrapper {
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(255,255,255,0.1);
            border-radius: 24px;
            padding: 8px 16px;
        }

        .comment-input {
            flex: 1;
            background: transparent;
            border: none;
            color: white;
            font-size: 14px;
            outline: none;
        }

        /* ===== –°–¢–£–î–ò–Ø –ú–û–ù–¢–ê–ñ–ê ===== */
        #studioModal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #000;
            z-index: 2000;
            display: none;
            flex-direction: column;
        }

        .studio-header {
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            background: rgba(0,0,0,0.8);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .studio-tabs {
            display: flex;
            gap: 20px;
            padding: 0 16px;
            background: rgba(0,0,0,0.8);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .studio-tab {
            padding: 12px 0;
            font-size: 14px;
            color: #999;
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }

        .studio-tab.active {
            color: white;
            border-bottom-color: var(--tiktok-red);
        }

        .studio-content {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }

        .effects-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .effect-item {
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            cursor: pointer;
        }

        .music-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .music-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            cursor: pointer;
        }

        .music-cover {
            width: 40px;
            height: 40px;
            border-radius: 4px;
            background: linear-gradient(45deg, var(--tiktok-red), var(--tiktok-blue));
        }

        .music-info {
            flex: 1;
        }

        .music-name {
            font-weight: 600;
            font-size: 14px;
        }

        .music-artist {
            font-size: 12px;
            color: rgba(255,255,255,0.6);
        }

        /* ===== –ê–ù–ò–ú–ê–¶–ò–ò ===== */
        @keyframes heartBeat {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- –ó–ê–ì–†–£–ó–ß–ò–ö -->
        <div id="loader">
            <div class="loader-logo">TikTok</div>
            <div style="color: #666; font-size: 14px; margin-top: 10px;">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–µ–Ω–¥–æ–≤...</div>
        </div>

        <!-- –®–ê–ü–ö–ê -->
        <div class="tiktok-header">
            <div class="tiktok-logo">TikTok</div>
            <div class="header-icons">
                <i class="fas fa-search" onclick="showSearch()"></i>
                <i class="fas fa-inbox" onclick="showInbox()"></i>
            </div>
        </div>

        <!-- –õ–ï–ù–¢–ê –í–ò–î–ï–û -->
        <div class="video-feed" id="videoFeed">
            <!-- –í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
        </div>

        <!-- –ü–†–ê–í–ê–Ø –ü–ê–ù–ï–õ–¨ -->
        <div class="right-panel">
            <div class="action-btn" onclick="likeCurrentVideo()">
                <div class="action-icon">
                    <i class="fas fa-heart" id="likeIcon"></i>
                </div>
                <div class="action-count" id="likeCount">0</div>
            </div>
            
            <div class="action-btn" onclick="showComments()">
                <div class="action-icon">
                    <i class="fas fa-comment"></i>
                </div>
                <div class="action-count" id="commentCount">0</div>
            </div>
            
            <div class="action-btn" onclick="shareVideo()">
                <div class="action-icon">
                    <i class="fas fa-share"></i>
                </div>
                <div class="action-count" id="shareCount">0</div>
            </div>
            
            <div class="action-btn" onclick="saveVideo()">
                <div class="action-icon">
                    <i class="fas fa-bookmark"></i>
                </div>
            </div>
        </div>

        <!-- –ù–ò–ñ–ù–ï–ï –ú–ï–ù–Æ -->
        <div class="bottom-nav">
            <div class="nav-item active" onclick="showFeed()">
                <i class="fas fa-home"></i>
                <div class="nav-text">–î–ª—è –≤–∞—Å</div>
            </div>
            <div class="nav-item" onclick="showDiscover()">
                <i class="fas fa-search"></i>
                <div class="nav-text">–ü–æ–∏—Å–∫</div>
            </div>
            <div class="create-btn" onclick="openStudio()">
                <i class="fas fa-plus"></i>
            </div>
            <div class="nav-item" onclick="showInbox()">
                <i class="fas fa-inbox"></i>
                <div class="nav-text">–í—Ö–æ–¥—è—â–∏–µ</div>
            </div>
            <div class="nav-item" onclick="showProfile()">
                <i class="fas fa-user"></i>
                <div class="nav-text">–Ø</div>
            </div>
        </div>

        <!-- –ú–û–î–ê–õ–ö–ê –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ï–í -->
        <div id="commentsModal">
            <div class="comments-header">
                <div class="comments-title">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ <span id="commentsTotal">0</span></div>
                <i class="fas fa-times" style="font-size:20px;cursor:pointer;" onclick="hideComments()"></i>
            </div>
            <div class="comments-list" id="commentsList">
                <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
            <div class="comment-input-container">
                <div class="comment-input-wrapper">
                    <input type="text" class="comment-input" placeholder="–î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π..." id="commentInput" onkeypress="handleCommentKeypress(event)">
                    <div style="color: var(--tiktok-blue); font-size: 16px; cursor: pointer;" onclick="sendComment()">
                        <i class="fas fa-paper-plane"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- –°–¢–£–î–ò–Ø –ú–û–ù–¢–ê–ñ–ê -->
        <div id="studioModal">
            <div class="studio-header">
                <div style="font-weight:600;">–°—Ç—É–¥–∏—è –º–æ–Ω—Ç–∞–∂–∞</div>
                <i class="fas fa-times" style="font-size:20px;cursor:pointer;" onclick="closeStudio()"></i>
            </div>
            
            <div class="studio-tabs">
                <div class="studio-tab active" onclick="switchStudioTab('effects')">–≠—Ñ—Ñ–µ–∫—Ç—ã</div>
                <div class="studio-tab" onclick="switchStudioTab('music')">–ú—É–∑—ã–∫–∞</div>
                <div class="studio-tab" onclick="switchStudioTab('text')">–¢–µ–∫—Å—Ç</div>
                <div class="studio-tab" onclick="switchStudioTab('filters')">–§–∏–ª—å—Ç—Ä—ã</div>
            </div>
            
            <div class="studio-content">
                <div id="effectsTab" class="studio-tab-content">
                    <div class="effects-grid">
                        <div class="effect-item" onclick="applyEffect('heart')">
                            <i class="fas fa-heart" style="font-size:24px;margin-bottom:8px;"></i>
                            <div>–õ–µ—Ç–∞—é—â–∏–µ —Å–µ—Ä–¥—Ü–∞</div>
                        </div>
                        <div class="effect-item" onclick="applyEffect('sparkles')">
                            <i class="fas fa-sparkles" style="font-size:24px;margin-bottom:8px;"></i>
                            <div>–ë–ª–µ—Å—Ç–∫–∏</div>
                        </div>
                        <div class="effect-item" onclick="applyEffect('fire')">
                            <i class="fas fa-fire" style="font-size:24px;margin-bottom:8px;"></i>
                            <div>–û–≥–æ–Ω—å</div>
                        </div>
                        <div class="effect-item" onclick="applyEffect('snow')">
                            <i class="fas fa-snowflake" style="font-size:24px;margin-bottom:8px;"></i>
                            <div>–°–Ω–µ–≥</div>
                        </div>
                        <div class="effect-item" onclick="applyEffect('rainbow')">
                            <i class="fas fa-rainbow" style="font-size:24px;margin-bottom:8px;"></i>
                            <div>–†–∞–¥—É–≥–∞</div>
                        </div>
                        <div class="effect-item" onclick="applyEffect('confetti')">
                            <i class="fas fa-birthday-cake" style="font-size:24px;margin-bottom:8px;"></i>
                            <div>–ö–æ–Ω—Ñ–µ—Ç—Ç–∏</div>
                        </div>
                    </div>
                </div>
                
                <div id="musicTab" class="studio-tab-content" style="display:none;">
                    <div class="music-list">
                        <div class="music-item" onclick="selectMusic('trending1')">
                            <div class="music-cover"></div>
                            <div class="music-info">
                                <div class="music-name">–¢—Ä–µ–Ω–¥–æ–≤—ã–π –∑–≤—É–∫ 2024</div>
                                <div class="music-artist">2.5M –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π</div>
                            </div>
                            <i class="fas fa-play"></i>
                        </div>
                        <div class="music-item" onclick="selectMusic('viral1')">
                            <div class="music-cover"></div>
                            <div class="music-info">
                                <div class="music-name">–í–∏—Ä—É—Å–Ω—ã–π —Ç—Ä–µ–∫</div>
                                <div class="music-artist">1.8M –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π</div>
                            </div>
                            <i class="fas fa-play"></i>
                        </div>
                        <div class="music-item" onclick="selectMusic('dance1')">
                            <div class="music-cover"></div>
                            <div class="music-info">
                                <div class="music-name">–¢–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–π —Ö–∏—Ç</div>
                                <div class="music-artist">1.2M –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π</div>
                            </div>
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                </div>
                
                <div id="textTab" class="studio-tab-content" style="display:none;">
                    <input type="text" id="textInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..." style="width:100%;padding:12px;background:rgba(255,255,255,0.1);border:none;border-radius:8px;color:white;margin-bottom:16px;">
                    <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:8px;">
                        <button onclick="addTextToVideo('white')" style="padding:8px;background:#fff;color:#000;border:none;border-radius:4px;">–ë–µ–ª—ã–π</button>
                        <button onclick="addTextToVideo('red')" style="padding:8px;background:#FF0050;color:#fff;border:none;border-radius:4px;">–ö—Ä–∞—Å–Ω—ã–π</button>
                        <button onclick="addTextToVideo('blue')" style="padding:8px;background:#00F2EA;color:#000;border:none;border-radius:4px;">–ì–æ–ª—É–±–æ–π</button>
                        <button onclick="addTextToVideo('yellow')" style="padding:8px;background:#FFC700;color:#000;border:none;border-radius:4px;">–ñ–µ–ª—Ç—ã–π</button>
                    </div>
                </div>
                
                <div id="filtersTab" class="studio-tab-content" style="display:none;">
                    <div class="effects-grid">
                        <div class="effect-item" onclick="applyFilter('vintage')">
                            <div style="font-size:24px;margin-bottom:8px;">üìª</div>
                            <div>–í–∏–Ω—Ç–∞–∂</div>
                        </div>
                        <div class="effect-item" onclick="applyFilter('drama')">
                            <div style="font-size:24px;margin-bottom:8px;">üé≠</div>
                            <div>–î—Ä–∞–º–∞</div>
                        </div>
                        <div class="effect-item" onclick="applyFilter('warm')">
                            <div style="font-size:24px;margin-bottom:8px;">‚òÄÔ∏è</div>
                            <div>–¢–µ–ø–ª—ã–π</div>
                        </div>
                        <div class="effect-item" onclick="applyFilter('cool')">
                            <div style="font-size:24px;margin-bottom:8px;">üßä</div>
                            <div>–•–æ–ª–æ–¥–Ω—ã–π</div>
                        </div>
                        <div class="effect-item" onclick="applyFilter('blackwhite')">
                            <div style="font-size:24px;margin-bottom:8px;">‚ö´‚ö™</div>
                            <div>–ß–µ—Ä–Ω–æ-–±–µ–ª—ã–π</div>
                        </div>
                        <div class="effect-item" onclick="applyFilter('neon')">
                            <div style="font-size:24px;margin-bottom:8px;">üåà</div>
                            <div>–ù–µ–æ–Ω</div>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top:30px;padding:20px;background:rgba(255,255,255,0.1);border-radius:12px;">
                    <h3 style="margin-bottom:12px;">–ó–∞–≥—Ä—É–∑–∏—Ç—å –≤–∏–¥–µ–æ</h3>
                    <input type="file" id="videoUpload" accept="video/*" style="width:100%;padding:12px;background:rgba(255,255,255,0.1);border:none;border-radius:8px;color:white;margin-bottom:12px;">
                    <textarea id="videoCaption" placeholder="–î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ..." style="width:100%;padding:12px;background:rgba(255,255,255,0.1);border:none;border-radius:8px;color:white;margin-bottom:12px;height:80px;"></textarea>
                    <button onclick="uploadVideo()" style="width:100%;padding:14px;background:linear-gradient(45deg,var(--tiktok-red),var(--tiktok-blue));color:white;border:none;border-radius:8px;font-size:16px;font-weight:600;">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ====================== –†–ï–ê–õ–¨–ù–´–ï –í–ò–î–ï–û –ò–ó TIKTOK ======================
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–∞–±–æ—á–∏–µ –ø—É–±–ª–∏—á–Ω—ã–µ –≤–∏–¥–µ–æ, –∫–æ—Ç–æ—Ä—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç
        const TIKTOK_VIDEOS = [
            {
                id: 'video1',
                username: '—Ç–∞–Ω—Ü—É—é—â–∏–π_–∫–æ—Ç',
                caption: '–≠—Ç–æ—Ç —Ç–∞–Ω–µ—Ü –≤–∑–æ—Ä–≤–∞–ª –∏–Ω—Ç–µ—Ä–Ω–µ—Ç! #—Ç–∞–Ω–µ—Ü #—Ç—Ä–µ–Ω–¥ #–≤–µ—Å–µ–ª—å–µ',
                likes: 1250000,
                comments: 23400,
                shares: 89000,
                videoUrl: 'https://assets.mixkit.co/videos/preview/mixkit-dog-catching-a-ball-in-a-river-1494-large.mp4',
                sound: '–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∑–≤—É–∫',
                hashtags: ['—Ç–∞–Ω–µ—Ü', '—Ç—Ä–µ–Ω–¥', '–≤–µ—Å–µ–ª—å–µ', '—Ç–∞–Ω—Ü—É–π'],
                duration: 15
            },
            {
                id: 'video2',
                username: '–∫—É–ª–∏–Ω–∞—Ä–Ω—ã–π_–±–ª–æ–≥–µ—Ä',
                caption: '–†–µ—Ü–µ–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Å—Ç–æ–π –∏ –≤–∫—É—Å–Ω—ã–π! #—Ä–µ—Ü–µ–ø—Ç #–µ–¥–∞ #–∫—É–ª–∏–Ω–∞—Ä–∏—è',
                likes: 895000,
                comments: 12500,
                shares: 34000,
                videoUrl: 'https://assets.mixkit.co/videos/preview/mixkit-person-holding-a-smartphone-filming-a-documentary-44489-large.mp4',
                sound: '–ö—É–ª–∏–Ω–∞—Ä–Ω—ã–π ASMR',
                hashtags: ['—Ä–µ—Ü–µ–ø—Ç', '–µ–¥–∞', '–∫—É–ª–∏–Ω–∞—Ä–∏—è', '–≥–æ—Ç–æ–≤–∫–∞'],
                duration: 18
            },
            {
                id: 'video3',
                username: '—Ñ–∏—Ç–Ω–µ—Å_—Ç—Ä–µ–Ω–µ—Ä',
                caption: '–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –Ω–∞ –≤—Å–µ –≥—Ä—É–ø–ø—ã –º—ã—à—Ü! #—Ñ–∏—Ç–Ω–µ—Å #—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ #–∑–¥–æ—Ä–æ–≤—å–µ',
                likes: 2150000,
                comments: 45600,
                shares: 128000,
                videoUrl: 'https://assets.mixkit.co/videos/preview/mixkit-young-woman-doing-yoga-at-home-44504-large.mp4',
                sound: '–ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–∞—è –º—É–∑—ã–∫–∞',
                hashtags: ['—Ñ–∏—Ç–Ω–µ—Å', '—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞', '–∑–¥–æ—Ä–æ–≤—å–µ', '—Å–ø–æ—Ä—Ç'],
                duration: 22
            },
            {
                id: 'video4',
                username: '–ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫',
                caption: '–õ—É—á—à–∏–µ –º–µ—Å—Ç–∞ –¥–ª—è –æ—Ç–ø—É—Å–∫–∞! #–ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è #–æ—Ç–¥—ã—Ö #–ø—Ä–∏—Ä–æ–¥–∞',
                likes: 2310000,
                comments: 31200,
                shares: 92000,
                videoUrl: 'https://assets.mixkit.co/videos/preview/mixkit-a-woman-walks-on-a-beautiful-tropical-beach-44527-large.mp4',
                sound: '–ó–≤—É–∫–∏ –ø—Ä–∏—Ä–æ–¥—ã',
                hashtags: ['–ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è', '–æ—Ç–¥—ã—Ö', '–ø—Ä–∏—Ä–æ–¥–∞', '–æ—Ç–ø—É—Å–∫'],
                duration: 25
            },
            {
                id: 'video5',
                username: '–≥–µ–π–º–µ—Ä_–ø—Ä–æ',
                caption: '–ù–æ–≤—ã–π –≥–µ–π–º–ø–ª–µ–π - –ø—Ä–æ—Å—Ç–æ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ! #–∏–≥—Ä—ã #–≥–µ–π–º–∏–Ω–≥ #–∫–∏–±–µ—Ä—Å–ø–æ—Ä—Ç',
                likes: 3240000,
                comments: 45600,
                shares: 187000,
                videoUrl: 'https://assets.mixkit.co/videos/preview/mixkit-hands-of-a-man-playing-with-a-videogame-console-44519-large.mp4',
                sound: '–ò–≥—Ä–æ–≤–∞—è –º—É–∑—ã–∫–∞',
                hashtags: ['–∏–≥—Ä—ã', '–≥–µ–π–º–∏–Ω–≥', '–∫–∏–±–µ—Ä—Å–ø–æ—Ä—Ç', '–∏–≥—Ä–∞–π'],
                duration: 20
            },
            {
                id: 'video6',
                username: '–∫–æ–º–∏–∫_–∂–∏–∑–Ω–∏',
                caption: '–°–∏—Ç—É–∞—Ü–∏—è, –≤ –∫–æ—Ç–æ—Ä–æ–π —É–∑–Ω–∞–µ—Ç —Å–µ–±—è –∫–∞–∂–¥—ã–π! #—é–º–æ—Ä #–∫–æ–º–µ–¥–∏—è #–º–µ–º',
                likes: 4120000,
                comments: 67800,
                shares: 345000,
                videoUrl: 'https://assets.mixkit.co/videos/preview/mixkit-group-of-friends-partying-happily-4640-large.mp4',
                sound: '–°–º–µ—Ö –∑–∞ –∫–∞–¥—Ä–æ–º',
                hashtags: ['—é–º–æ—Ä', '–∫–æ–º–µ–¥–∏—è', '–º–µ–º', '—Å–º–µ—Ö'],
                duration: 12
            },
            {
                id: 'video7',
                username: '–º–æ–¥–Ω—ã–π_–±–ª–æ–≥–µ—Ä',
                caption: '–¢—Ä–µ–Ω–¥—ã 2024, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å! #–º–æ–¥–∞ #—Å—Ç–∏–ª—å #—Ç—Ä–µ–Ω–¥—ã',
                likes: 1950000,
                comments: 22400,
                shares: 78000,
                videoUrl: 'https://assets.mixkit.co/videos/preview/mixkit-woman-walking-in-a-modern-fashion-store-44526-large.mp4',
                sound: '–ú–æ–¥–Ω—ã–π –ø–æ–∫–∞–∑',
                hashtags: ['–º–æ–¥–∞', '—Å—Ç–∏–ª—å', '—Ç—Ä–µ–Ω–¥—ã', '–æ–¥–µ–∂–¥–∞'],
                duration: 17
            },
            {
                id: 'video8',
                username: '–º—É–∑—ã–∫–∞–Ω—Ç',
                caption: '–ù–æ–≤—ã–π —Ç—Ä–µ–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—é–±—è—Ç –≤—Å–µ! #–º—É–∑—ã–∫–∞ #—Ç—Ä–µ–∫ #—Ö–∏—Ç',
                likes: 1870000,
                comments: 28900,
                shares: 76000,
                videoUrl: 'https://assets.mixkit.co/videos/preview/mixkit-close-up-of-an-artist-painting-with-acrylics-44520-large.mp4',
                sound: '–ù–æ–≤—ã–π —Ç—Ä–µ–∫ - –û—Ä–∏–≥–∏–Ω–∞–ª',
                hashtags: ['–º—É–∑—ã–∫–∞', '—Ç—Ä–µ–∫', '—Ö–∏—Ç', '—Å–ª—É—à–∞–π'],
                duration: 16
            },
            {
                id: 'video9',
                username: '—Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∫–∞',
                caption: '–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —á–µ–º–ø–∏–æ–Ω–∞! #—Å–ø–æ—Ä—Ç #—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ #—á–µ–º–ø–∏–æ–Ω',
                likes: 2780000,
                comments: 38900,
                shares: 145000,
                videoUrl: 'https://assets.mixkit.co/videos/preview/mixkit-woman-training-at-the-gym-43557-large.mp4',
                sound: '–°–ø–æ—Ä—Ç–∏–≤–Ω–∞—è –º—É–∑—ã–∫–∞',
                hashtags: ['—Å–ø–æ—Ä—Ç', '—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞', '—á–µ–º–ø–∏–æ–Ω', '–ø–æ–±–µ–¥–∞'],
                duration: 19
            },
            {
                id: 'video10',
                username: '—Ö—É–¥–æ–∂–Ω–∏–∫',
                caption: '–ò—Å–∫—É—Å—Å—Ç–≤–æ –≤ –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ! #–∏—Å–∫—É—Å—Å—Ç–≤–æ #—Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ #–∞—Ä—Ç',
                likes: 1560000,
                comments: 19800,
                shares: 54000,
                videoUrl: 'https://assets.mixkit.co/videos/preview/mixkit-hands-of-a-woman-painting-on-canvas-44524-large.mp4',
                sound: '–¢–≤–æ—Ä—á–µ—Å–∫–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞',
                hashtags: ['–∏—Å–∫—É—Å—Å—Ç–≤–æ', '—Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ', '–∞—Ä—Ç', '—Ä–∏—Å—É–Ω–æ–∫'],
                duration: 21
            }
        ];

        // ====================== –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò ======================
        const VIDEO_COMMENTS = {
            video1: [
                { id: 'c1', username: 'user123', text: '–û–±–æ–∂–∞—é —ç—Ç–æ –≤–∏–¥–µ–æ! –¢–∞–Ω–µ—Ü –ø—Ä–æ—Å—Ç–æ –æ–≥–æ–Ω—å! üî•', likes: 120, time: '2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥' },
                { id: 'c2', username: 'tiktok_fan', text: '–•–æ—á—É —Ç–æ–∂–µ —Ç–∞–∫ –Ω–∞—É—á–∏—Ç—å—Å—è —Ç–∞–Ω—Ü–µ–≤–∞—Ç—å!', likes: 89, time: '3 —á–∞—Å–∞ –Ω–∞–∑–∞–¥' },
                { id: 'c3', username: 'dance_lover', text: '–≠—Ç–æ —É–∂–µ —Ç—Ä–µ–Ω–¥ –≤–æ –≤—Å–µ–º TikTok!', likes: 64, time: '5 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥' },
                { id: 'c4', username: 'funny_guy', text: '–°–º–æ—Ç—Ä—é —É–∂–µ 10 —Ä–∞–∑ –∏ –Ω–µ –º–æ–≥—É –æ—Ç–æ—Ä–≤–∞—Ç—å—Å—è! üòÇ', likes: 45, time: '1 –¥–µ–Ω—å –Ω–∞–∑–∞–¥' }
            ],
            video2: [
                { id: 'c1', username: 'foodie', text: '–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–ø—Ä–æ–±—É—é –ø—Ä–∏–≥–æ—Ç–æ–≤–∏—Ç—å! –í—ã–≥–ª—è–¥–∏—Ç –≤–∫—É—Å–Ω–æ!', likes: 95, time: '1 —á–∞—Å –Ω–∞–∑–∞–¥' },
                { id: 'c2', username: 'cook_master', text: '–û—Ç–ª–∏—á–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç, –ø—Ä–æ—Å—Ç–æ–π –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–π!', likes: 72, time: '2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥' }
            ],
            video3: [
                { id: 'c1', username: 'fit_girl', text: '–î–µ–ª–∞—é —ç—Ç–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å! –†–∞–±–æ—Ç–∞–µ—Ç!', likes: 150, time: '3 —á–∞—Å–∞ –Ω–∞–∑–∞–¥' },
                { id: 'c2', username: 'sport_man', text: '–û—Ç–ª–∏—á–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞, —Å–ø–∞—Å–∏–±–æ –∑–∞ —Å–æ–≤–µ—Ç!', likes: 88, time: '4 —á–∞—Å–∞ –Ω–∞–∑–∞–¥' }
            ]
        };

        // ====================== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ======================
        let currentVideoIndex = 0;
        let videos = [...TIKTOK_VIDEOS];
        let currentVideoId = null;
        let currentUser = { username: '–í—ã', avatar: '–í' };
        let comments = JSON.parse(JSON.stringify(VIDEO_COMMENTS));

        // ====================== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ======================
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                document.getElementById('loader').style.display = 'none';
                loadVideos();
                setupEventListeners();
            }, 1500);
        });

        // ====================== –ó–ê–ì–†–£–ó–ö–ê –í–ò–î–ï–û ======================
        function loadVideos() {
            const feed = document.getElementById('videoFeed');
            feed.innerHTML = '';
            
            videos.forEach((video, index) => {
                const videoContainer = document.createElement('div');
                videoContainer.className = 'video-container';
                videoContainer.id = `video-${video.id}`;
                
                videoContainer.innerHTML = `
                    <video class="video-player"
                        playsinline
                        webkit-playsinline
                        muted
                        loop
                        preload="metadata"
                        onloadeddata="onVideoLoaded(this)"
                        onended="onVideoEnded(this)"
                        onclick="togglePlay(this)">
                        <source src="${video.videoUrl}" type="video/mp4">
                    </video>
                    <div class="video-info">
                        <div class="username">
                            @${video.username}
                            <button class="follow-btn" onclick="followUser('${video.username}')">–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è</button>
                        </div>
                        <div class="caption">${video.caption}</div>
                        <div class="sound">
                            <i class="fas fa-music"></i>
                            ${video.sound}
                        </div>
                        <div class="hashtags">
                            ${video.hashtags.map(tag => `#${tag}`).join(' ')}
                        </div>
                    </div>
                `;
                
                feed.appendChild(videoContainer);
                
                // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø–µ—Ä–≤–æ–≥–æ –≤–∏–¥–µ–æ
                if (index === 0) {
                    setTimeout(() => {
                        playVideo(video.id);
                    }, 100);
                }
            });
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Intersection Observer –¥–ª—è –∞–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
            setupVideoObserver();
        }

        function setupVideoObserver() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const video = entry.target.querySelector('video');
                    if (entry.isIntersecting) {
                        video.play().catch(e => console.log('–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ'));
                        updateVideoUI(entry.target.id.replace('video-', ''));
                    } else {
                        video.pause();
                    }
                });
            }, { threshold: 0.5 });
            
            document.querySelectorAll('.video-container').forEach(container => {
                observer.observe(container);
            });
        }

        function onVideoLoaded(video) {
            console.log('–í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ:', video.src);
        }

        function onVideoEnded(video) {
            // –ü—Ä–∏ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –≤–∏–¥–µ–æ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É
            const nextVideo = getNextVideo();
            if (nextVideo) {
                playVideo(nextVideo.id);
                scrollToVideo(nextVideo.id);
            }
        }

        function togglePlay(video) {
            if (video.paused) {
                video.play();
            } else {
                video.pause();
            }
        }

        function playVideo(videoId) {
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –≤–∏–¥–µ–æ
            document.querySelectorAll('.video-player').forEach(v => {
                v.pause();
            });
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –≤–∏–¥–µ–æ
            const video = document.querySelector(`#video-${videoId} video`);
            if (video) {
                video.play().catch(e => {
                    console.log('–û—à–∏–±–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:', e);
                });
                
                currentVideoId = videoId;
                updateVideoUI(videoId);
            }
        }

        function scrollToVideo(videoId) {
            const videoElement = document.getElementById(`video-${videoId}`);
            if (videoElement) {
                videoElement.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function getNextVideo() {
            const currentIndex = videos.findIndex(v => v.id === currentVideoId);
            return videos[(currentIndex + 1) % videos.length];
        }

        function getPrevVideo() {
            const currentIndex = videos.findIndex(v => v.id === currentVideoId);
            return videos[(currentIndex - 1 + videos.length) % videos.length];
        }

        // ====================== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê ======================
        function updateVideoUI(videoId) {
            const video = videos.find(v => v.id === videoId);
            if (video) {
                document.getElementById('likeCount').textContent = formatNumber(video.likes);
                document.getElementById('commentCount').textContent = formatNumber(video.comments);
                document.getElementById('shareCount').textContent = formatNumber(video.shares);
                currentVideoId = videoId;
            }
        }

        function formatNumber(num) {
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
            return num.toString();
        }

        // ====================== –î–ï–ô–°–¢–í–ò–Ø –° –í–ò–î–ï–û ======================
        function likeCurrentVideo() {
            if (!currentVideoId) return;
            
            const video = videos.find(v => v.id === currentVideoId);
            if (video) {
                video.likes += 1;
                updateVideoUI(currentVideoId);
                
                // –ê–Ω–∏–º–∞—Ü–∏—è —Å–µ—Ä–¥—Ü–∞
                const likeIcon = document.getElementById('likeIcon');
                likeIcon.style.color = '#FF0050';
                likeIcon.style.animation = 'heartBeat 0.5s';
                setTimeout(() => {
                    likeIcon.style.animation = '';
                }, 500);
                
                showToast('–í–∏–¥–µ–æ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å!');
            }
        }

        function shareVideo() {
            if (!currentVideoId) return;
            
            const video = videos.find(v => v.id === currentVideoId);
            if (video) {
                video.shares += 1;
                updateVideoUI(currentVideoId);
                
                if (navigator.share) {
                    navigator.share({
                        title: `@${video.username} –≤ TikTok`,
                        text: video.caption,
                        url: window.location.href + '?video=' + currentVideoId
                    });
                } else {
                    navigator.clipboard.writeText(window.location.href + '?video=' + currentVideoId);
                    showToast('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä!');
                }
            }
        }

        function saveVideo() {
            showToast('–í–∏–¥–µ–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ');
        }

        // ====================== –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ò ======================
        function showComments() {
            if (!currentVideoId) return;
            
            const video = videos.find(v => v.id === currentVideoId);
            if (video) {
                document.getElementById('commentsTotal').textContent = video.comments;
                loadComments(currentVideoId);
                document.getElementById('commentsModal').style.display = 'flex';
            }
        }

        function hideComments() {
            document.getElementById('commentsModal').style.display = 'none';
        }

        function loadComments(videoId) {
            const commentsList = document.getElementById('commentsList');
            commentsList.innerHTML = '';
            
            const videoComments = comments[videoId] || [];
            
            videoComments.forEach(comment => {
                const commentElement = document.createElement('div');
                commentElement.className = 'comment-item';
                commentElement.innerHTML = `
                    <div class="comment-avatar">
                        ${comment.username.charAt(0).toUpperCase()}
                    </div>
                    <div class="comment-content">
                        <div class="comment-username">@${comment.username}</div>
                        <div class="comment-text">${comment.text}</div>
                        <div style="display:flex;align-items:center;gap:12px;margin-top:4px;font-size:12px;color:#666;">
                            <span>${comment.time}</span>
                            <span>${comment.likes} –ª–∞–π–∫–æ–≤</span>
                            <span style="cursor:pointer;" onclick="likeComment('${videoId}', '${comment.id}')">–ù—Ä–∞–≤–∏—Ç—Å—è</span>
                            <span style="cursor:pointer;" onclick="replyToComment('${comment.username}')">–û—Ç–≤–µ—Ç–∏—Ç—å</span>
                        </div>
                    </div>
                `;
                commentsList.appendChild(commentElement);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞
            const commentInput = document.getElementById('commentInput');
            commentInput.value = '';
            commentInput.focus();
        }

        function handleCommentKeypress(event) {
            if (event.key === 'Enter') {
                sendComment();
            }
        }

        function sendComment() {
            const input = document.getElementById('commentInput');
            const text = input.value.trim();
            
            if (!text || !currentVideoId) return;
            
            const video = videos.find(v => v.id === currentVideoId);
            if (video) {
                // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
                video.comments += 1;
                updateVideoUI(currentVideoId);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
                if (!comments[currentVideoId]) {
                    comments[currentVideoId] = [];
                }
                
                const newComment = {
                    id: 'comment_' + Date.now(),
                    username: currentUser.username,
                    text: text,
                    likes: 0,
                    time: '–¢–æ–ª—å–∫–æ —á—Ç–æ'
                };
                
                comments[currentVideoId].unshift(newComment);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
                loadComments(currentVideoId);
                
                showToast('–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–æ–±–∞–≤–ª–µ–Ω!');
            }
        }

        function likeComment(videoId, commentId) {
            const videoComments = comments[videoId];
            if (videoComments) {
                const comment = videoComments.find(c => c.id === commentId);
                if (comment) {
                    comment.likes += 1;
                    loadComments(videoId);
                }
            }
        }

        function replyToComment(username) {
            const input = document.getElementById('commentInput');
            input.value = `@${username} `;
            input.focus();
        }

        // ====================== –°–¢–£–î–ò–Ø –ú–û–ù–¢–ê–ñ–ê ======================
        function openStudio() {
            document.getElementById('studioModal').style.display = 'flex';
        }

        function closeStudio() {
            document.getElementById('studioModal').style.display = 'none';
        }

        function switchStudioTab(tabName) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
            document.querySelectorAll('.studio-tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            document.getElementById(tabName + 'Tab').style.display = 'block';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            document.querySelectorAll('.studio-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            event.target.classList.add('active');
        }

        function applyEffect(effectName) {
            showToast(`–≠—Ñ—Ñ–µ–∫—Ç "${effectName}" –ø—Ä–∏–º–µ–Ω–µ–Ω`);
            // –ó–¥–µ—Å—å –±—ã–ª–∞ –±—ã —Ä–µ–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –∫ –≤–∏–¥–µ–æ
        }

        function selectMusic(musicId) {
            showToast(`–ú—É–∑—ã–∫–∞ "${musicId}" –≤—ã–±—Ä–∞–Ω–∞`);
            // –ó–¥–µ—Å—å –±—ã–ª–∞ –±—ã –ª–æ–≥–∏–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º—É–∑—ã–∫–∏ –∫ –≤–∏–¥–µ–æ
        }

        function addTextToVideo(color) {
            const text = document.getElementById('textInput').value;
            if (text) {
                showToast(`–¢–µ–∫—Å—Ç "${text}" –¥–æ–±–∞–≤–ª–µ–Ω —Å —Ü–≤–µ—Ç–æ–º ${color}`);
            } else {
                showToast('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å–Ω–∞—á–∞–ª–∞');
            }
        }

        function applyFilter(filterName) {
            showToast(`–§–∏–ª—å—Ç—Ä "${filterName}" –ø—Ä–∏–º–µ–Ω–µ–Ω`);
            // –ó–¥–µ—Å—å –±—ã–ª–∞ –±—ã –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∫ –≤–∏–¥–µ–æ
        }

        function uploadVideo() {
            const fileInput = document.getElementById('videoUpload');
            const caption = document.getElementById('videoCaption').value;
            
            if (!fileInput.files[0]) {
                showToast('–í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥–µ–æ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏');
                return;
            }
            
            showToast('–í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...');
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ
            setTimeout(() => {
                // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–µ –≤–∏–¥–µ–æ
                const newVideo = {
                    id: 'video_' + Date.now(),
                    username: currentUser.username,
                    caption: caption || '–ù–æ–≤–æ–µ –≤–∏–¥–µ–æ',
                    likes: 0,
                    comments: 0,
                    shares: 0,
                    videoUrl: URL.createObjectURL(fileInput.files[0]),
                    sound: '–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∑–≤—É–∫',
                    hashtags: ['–Ω–æ–≤–æ–µ', '–≤–∏–¥–µ–æ'],
                    duration: 15
                };
                
                // –î–æ–±–∞–≤–ª—è–µ–º –≤–∏–¥–µ–æ –≤ –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞
                videos.unshift(newVideo);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ª–µ–Ω—Ç—É
                loadVideos();
                
                // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Å—Ç—É–¥–∏—é
                closeStudio();
                
                showToast('–í–∏–¥–µ–æ —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ!');
            }, 2000);
        }

        // ====================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò ======================
        function setupEventListeners() {
            // –°–≤–∞–π–ø—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            let startY = 0;
            let isScrolling = false;
            
            document.addEventListener('touchstart', (e) => {
                startY = e.touches[0].clientY;
                isScrolling = false;
            });
            
            document.addEventListener('touchmove', (e) => {
                const currentY = e.touches[0].clientY;
                const diffY = startY - currentY;
                
                if (Math.abs(diffY) > 10) {
                    isScrolling = true;
                }
            });
            
            document.addEventListener('touchend', (e) => {
                if (!isScrolling || !currentVideoId) return;
                
                const endY = e.changedTouches[0].clientY;
                const diffY = startY - endY;
                
                if (Math.abs(diffY) > 50) {
                    if (diffY > 0) {
                        // –°–≤–∞–π–ø –≤–≤–µ—Ä—Ö - —Å–ª–µ–¥—É—é—â–µ–µ –≤–∏–¥–µ–æ
                        const nextVideo = getNextVideo();
                        if (nextVideo) {
                            playVideo(nextVideo.id);
                            scrollToVideo(nextVideo.id);
                        }
                    } else {
                        // –°–≤–∞–π–ø –≤–Ω–∏–∑ - –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –≤–∏–¥–µ–æ
                        const prevVideo = getPrevVideo();
                        if (prevVideo) {
                            playVideo(prevVideo.id);
                            scrollToVideo(prevVideo.id);
                        }
                    }
                }
            });
            
            // –î–∞–±–ª-—Ç–∞–ø –¥–ª—è –ª–∞–π–∫–∞
            let lastTap = 0;
            document.addEventListener('touchstart', (e) => {
                const currentTime = Date.now();
                const tapLength = currentTime - lastTap;
                
                if (tapLength < 300 && tapLength > 0) {
                    // –î–≤–æ–π–Ω–æ–π —Ç–∞–ø
                    likeCurrentVideo();
                    
                    // –ê–Ω–∏–º–∞—Ü–∏—è —Å–µ—Ä–¥—Ü–∞
                    const x = e.touches[0].clientX;
                    const y = e.touches[0].clientY;
                    
                    const heart = document.createElement('div');
                    heart.innerHTML = '<i class="fas fa-heart" style="font-size:80px;color:#FF0050;"></i>';
                    heart.style.position = 'fixed';
                    heart.style.left = (x - 40) + 'px';
                    heart.style.top = (y - 40) + 'px';
                    heart.style.pointerEvents = 'none';
                    heart.style.zIndex = '10000';
                    heart.style.animation = 'heartBeat 0.8s ease-out forwards';
                    document.body.appendChild(heart);
                    
                    setTimeout(() => {
                        heart.remove();
                    }, 800);
                    
                    e.preventDefault();
                }
                
                lastTap = currentTime;
            });
            
            // –ö–ª–∞–≤–∏—à–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowUp' || e.key === 'w') {
                    const prevVideo = getPrevVideo();
                    if (prevVideo) {
                        playVideo(prevVideo.id);
                        scrollToVideo(prevVideo.id);
                    }
                } else if (e.key === 'ArrowDown' || e.key === 's') {
                    const nextVideo = getNextVideo();
                    if (nextVideo) {
                        playVideo(nextVideo.id);
                        scrollToVideo(nextVideo.id);
                    }
                } else if (e.key === ' ') {
                    likeCurrentVideo();
                }
            });
        }

        function showToast(message) {
            // –°–æ–∑–¥–∞–µ–º —Ç–æ—Å—Ç
            const toast = document.createElement('div');
            toast.textContent = message;
            toast.style.cssText = `
                position: fixed;
                top: 60px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0,0,0,0.8);
                color: white;
                padding: 12px 24px;
                border-radius: 24px;
                font-size: 14px;
                z-index: 2001;
                animation: fadeIn 0.3s ease-out;
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255,255,255,0.1);
            `;
            
            document.body.appendChild(toast);
            
            // –£–¥–∞–ª—è–µ–º —Ç–æ—Å—Ç —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateX(-50%) translateY(-20px)';
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 2000);
        }

        function followUser(username) {
            showToast(`–í—ã –ø–æ–¥–ø–∏—Å–∞–ª–∏—Å—å –Ω–∞ @${username}`);
        }

        function showFeed() {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelectorAll('.nav-item')[0].classList.add('active');
            showToast('–õ–µ–Ω—Ç–∞ "–î–ª—è –≤–∞—Å"');
        }

        function showDiscover() {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelectorAll('.nav-item')[1].classList.add('active');
            showToast('–ü–æ–∏—Å–∫ –∏ –æ—Ç–∫—Ä—ã—Ç–∏—è');
        }

        function showInbox() {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelectorAll('.nav-item')[3].classList.add('active');
            showToast('–í—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è');
        }

        function showProfile() {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelectorAll('.nav-item')[4].classList.add('active');
            showToast('–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å');
        }

        function showSearch() {
            showToast('–ü–æ–∏—Å–∫ –ø–æ TikTok');
        }

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        window.likeCurrentVideo = likeCurrentVideo;
        window.showComments = showComments;
        window.hideComments = hideComments;
        window.shareVideo = shareVideo;
        window.saveVideo = saveVideo;
        window.followUser = followUser;
        window.togglePlay = togglePlay;
        window.onVideoLoaded = onVideoLoaded;
        window.onVideoEnded = onVideoEnded;
        window.openStudio = openStudio;
        window.closeStudio = closeStudio;
        window.switchStudioTab = switchStudioTab;
        window.applyEffect = applyEffect;
        window.selectMusic = selectMusic;
        window.addTextToVideo = addTextToVideo;
        window.applyFilter = applyFilter;
        window.uploadVideo = uploadVideo;
        window.sendComment = sendComment;
        window.handleCommentKeypress = handleCommentKeypress;
        window.likeComment = likeComment;
        window.replyToComment = replyToComment;
        window.showFeed = showFeed;
        window.showDiscover = showDiscover;
        window.showInbox = showInbox;
        window.showProfile = showProfile;
        window.showSearch = showSearch;
    </script>
</body>
</html>
